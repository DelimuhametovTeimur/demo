<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="UTF-8">
    <title>Subscription Manager</title>
</head>
<body>
<h2>Welcome to home page <span sec:authentication="principal.username">User</span> ! </h2>

<form method="POST" th:action="@{/home}" id="showUsers">
        <table border = "1">
            <tr>
                <th> Username </th>
                <th> Youtube_Access </th>
                <th> Instagram_Access </th>
                <th> VK_Access </th>
                <th> Facebook_Access </th>
            </tr>

            <tr th:each = "user : ${users}">
                <td> <input type="text" name="username" readonly th:value = "${user.username}"> </td>
                <td> <input type = "checkbox" name = "YoutubeAccess" th:checked = "${#strings.equals(user.youtube, 'Permited')}"> </td>
                <td> <input type = "checkbox" name = "InstagramAccess" th:checked = "${#strings.equals(user.instagram, 'Permited')}"> </td>
                <td> <input type = "checkbox" name = "VKAccess" th:checked = "${#strings.equals(user.vk, 'Permited')}"> </td>
                <td> <input type = "checkbox" name = "FacebookAccess" th:checked = "${#strings.equals(user.facebook, 'Permited')}"> </td>
            </tr>

        </table>

    <input type="submit" value="Save">
</form>

<br>
<p> <a th:href="@{/logout}"> Log Out </a> </p>

</body>
</html>